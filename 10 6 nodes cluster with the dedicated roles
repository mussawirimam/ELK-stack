We will create 6 nodes now and install elasticsearch and copy the certs and copy the configuration elasticsearch.yml file in all 3 master nodes
# we will be working with 3 roles: master, cordinator, and datanodes.

node1 master 10.211.55.11  node.roles: [ master ]
node2 master 10.211.55.12  node.roles: [ master ]
node3 master 10.211.55.13  node.roles: [ master ]

node4 cordinator 10.211.55.22  node.roles: [ cordinator ]

node5 datanode 10.211.55.23
node6 datanode 10.211.55.24

right now we are not using these nodes 
ML
Ingest

### to setup the roles
https://www.elastic.co/docs/deploy-manage/distributed-architecture/clusters-nodes-shards/node-roles
### there are multiple nodes that you can set in your elasticsearch.yml file to tell your cluster what roles they are going to server. 
Set node roles
You define a node’s roles by setting node.roles in elasticsearch.yml. If you set node.roles, the node is only assigned the roles you specify. If you don’t set node.roles, the node is assigned the following roles:
master
data
data_content
data_hot
data_warm
data_cold
data_frozen
ingest
ml
remote_cluster_client
transform

### we will add this role within this sectio of the elasticsearch.yml file
vi elasticsearch.yml
# ---------------------------------- Cluster -----------------------------------
#
# Use a descriptive name for your cluster:
#
cluster.name: future
nodes.roles: [ master ]
#
# ------------------------------------ Node ------------------------------------
:wq!


### change the permissions look at the 02 ELK installation doc
# then start the elasticsearch service
# in my case it failed

#### trouble shoot
░░ A start job for unit elasticsearch.service has begun execution.
░░
░░ The job identifier is 140604.
May 10 17:53:07 elk systemd-entrypoint[21970]: OpenJDK 64-Bit Server VM warning: Unable to get SVE vector length on this system. Disabling SVE. Specify -XX:UseSVE=0>
May 10 17:53:07 elk systemd-entrypoint[21970]: org.elasticsearch.common.settings.SettingsException: Failed to load settings from [elasticsearch.yml]
May 10 17:53:07 elk systemd-entrypoint[21970]:         at org.elasticsearch.common.settings.Settings$Builder.loadFromStream(Settings.java:1272)
May 10 17:53:07 elk systemd-entrypoint[21970]:         at org.elasticsearch.node.InternalSettingsPreparer.loadConfigWithSubstitutions(InternalSettingsPreparer.java:>
May 10 17:53:07 elk systemd-entrypoint[21970]:         at org.elasticsearch.node.InternalSettingsPreparer.prepareEnvironment(InternalSettingsPreparer.java:53)
May 10 17:53:07 elk systemd-entrypoint[21970]:         at org.elasticsearch.common.cli.EnvironmentAwareCommand.createEnv(EnvironmentAwareCommand.java:105)
May 10 17:53:07 elk systemd-entrypoint[21970]:         at org.elasticsearch.common.cli.EnvironmentAwareCommand.execute(EnvironmentAwareCommand.java:55)
May 10 17:53:07 elk systemd-entrypoint[21970]:         at org.elasticsearch.cli.Command.mainWithoutErrorHandling(Command.java:101)
May 10 17:53:07 elk systemd-entrypoint[21970]:         at org.elasticsearch.cli.Command.main(Command.java:54)
May 10 17:53:07 elk systemd-entrypoint[21970]:         at org.elasticsearch.launcher.CliToolLauncher.main(CliToolLauncher.java:65)
May 10 17:53:07 elk systemd-entrypoint[21970]: Caused by: org.elasticsearch.common.ParsingException: Failed to parse object: expecting token of type [START_OBJECT] >
May 10 17:53:07 elk systemd-entrypoint[21970]:         at org.elasticsearch.common.xcontent.XContentParserUtils.parsingException(XContentParserUtils.java:92)
May 10 17:53:07 elk systemd-entrypoint[21970]:         at org.elasticsearch.common.xcontent.XContentParserUtils.ensureExpectedToken(XContentParserUtils.java:71)
May 10 17:53:07 elk systemd-entrypoint[21970]:         at org.elasticsearch.common.settings.Settings.fromXContent(Settings.java:756)
May 10 17:53:07 elk systemd-entrypoint[21970]:         at org.elasticsearch.common.settings.Settings$Builder.loadFromStream(Settings.java:1268)
May 10 17:53:07 elk systemd-entrypoint[21970]:         ... 7 more
May 10 17:53:07 elk systemd[1]: elasticsearch.service: Main process exited, code=exited, status=70/SOFTWARE
░░ Subject: Unit process exited
░░ Defined-By: systemd
░░ Support: http://www.ubuntu.com/support
░░
░░ An ExecStart= process belonging to unit elasticsearch.service has exited.
░░
░░ The process' exit code is 'exited' and its exit status is 70.
May 10 17:53:07 elk systemd[1]: elasticsearch.service: Failed with result 'exit-code'.
░░ Subject: Unit failed
░░ Defined-By: systemd
░░ Support: http://www.ubuntu.com/support
░░
░░ The unit elasticsearch.service has entered the 'failed' state with result 'exit-code'.
May 10 17:53:07 elk systemd[1]: Failed to start elasticsearch.service - Elasticsearch.
░░ Subject: A start job for unit elasticsearch.service has failed
░░ Defined-By: systemd
░░ Support: http://www.ubuntu.com/support
░░
░░ A start job for unit elasticsearch.service has finished with a failure.
░░
░░ The job identifier is 140604 and the job result is failed.
### trouble shoot ends
